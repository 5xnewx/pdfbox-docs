<!DOCTYPE html>
<html lang="en">

<!--

     Licensed to the Apache Software Foundation (ASF) under one or more
     contributor license agreements.  See the NOTICE file distributed with
     this work for additional information regarding copyright ownership.
     The ASF licenses this file to You under the Apache License, Version 2.0
     (the "License"); you may not use this file except in compliance with
     the License.  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE- 2.0

     Unless required by applicable law or agreed to in writing, software
     distributed under the License is distributed on an "AS IS" BASIS,
     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     See the License for the specific language governing permissions and
     limitations under the License.
     -->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="The Apache PDFBox™ library is an open source Java tool for working with PDF documents. This project allows creation of new PDF documents, manipulation of existing documents and the ability to extract content from documents. Apache PDFBox also includes several command-line utilities. Apache PDFBox is published under the Apache License v2.0.
">

    <title>Apache PDFBox | Frequently Asked Questions (FAQ)</title>

    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/pygments-github.css" rel="stylesheet">

    <link href="/css/site.css" rel="stylesheet">

    

    

    

</head>

<body>
    <nav class="navbar navbar-default navbar-top">
      <div class="container">
        <div class="navbar-header">
          <a href="/index.html">
            <img class="logo" src="/images/logo-head.gif">
          </a>
          <p class="pull-right visible-xs">
            <button type="button" class="btn btn-primary btn-sm" data-toggle="offcanvas">Menu</button>
          </p>
        </div>
      </div>
    </nav>

    <div class="container">

        <div class="row row-offcanvas row-offcanvas-left">
            <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar">

                <ul class="sidebar">
                    <li class="sidebar-header">Apache PDFBox</li>
                    <li><a href="/index.html">Overview</a></li>
                    <li><a href="/download.cgi">Downloads</a></li>

                    <li class="sidebar-header">Community</li>
                    <li><a href="/support.html">Support</a></li>
                    <li><a href="/mailinglists.html">Mailing Lists</a></li>
                    <li><a href="/team.html">Project Team</a></li>

                    <li class="sidebar-header">Documentation</li>
                    <li class="sidebar-node" id="v2-0">
                        <a href="#">2.0</a>
                        <ul>
                            <li><a href="/2.0/migration.html">Migration Guide</a></li>
                            <li><a href="/2.0/getting-started.html">Getting Started</a></li>
                            <li><a href="/2.0/examples.html">Examples</a></li>
                            <li><a href="/2.0/dependencies.html">Dependencies</a></li>
                            <li class="sidebar-node" id="v2-0-cookbook">
                                <a href="#">Cookbook</a>
                                <ul>
                                    <li><a href="/2.0/cookbook/encryption.html">Document Encryption</a></li>
                                </ul>
                            </li>
                            <li><a href="/2.0/commandline.html">Command-Line Tools</a></li>
                            <li><a href="/2.0/faq.html">FAQ</a></li>
                            <li><a href="/docs/2.0.4/javadocs/">API Docs</a></li>
                        </ul>
                    </li>
                    <li class="sidebar-node" id="v1-8">
                        <a href="#">1.8</a>
                        <ul>
                            <li><a href="/1.8/architecture.html">Architecture</a></li>
                            <li><a href="/1.8/dependencies.html">Dependencies</a></li>
                            <li class="sidebar-node" id="v1-8-cookbook">
                                <a href="#">Cookbook</a>
                                <ul>
                                    <li><a href="/1.8/cookbook/documentcreation.html">Document Creation</a></li>
                                    <li><a href="/1.8/cookbook/textextraction.html">Text Extraction</a></li>
                                    <li><a href="/1.8/cookbook/encryption.html">Document Encryption</a></li>
                                    <li><a href="/1.8/cookbook/workingwithfonts.html">Working with Fonts</a></li>
                                    <li><a href="/1.8/cookbook/workingwithmetadata.html">Working with Metadata</a></li>
                                    <li><a href="/1.8/cookbook/workingwithattachments.html">Working with Attachments</a></li>
                                    <li><a href="/1.8/cookbook/pdfavalidation.html">PDF/A Validation</a></li>
                                    <li><a href="/1.8/cookbook/pdfacreation.html">Creating a PDF/A Document</a></li>
                                </ul>
                            </li>
                            <li><a href="/1.8/commandline.html">Command-Line Tools</a></li>
                            <li><a href="/docs/1.8.13/javadocs/">API Docs</a></li>
                            <li><a href="/1.8/faq.html">FAQ</a></li>
                        </ul>
                    </li>

                    <li class="sidebar-header">Development</li>
                    <li><a href="/building.html">Building from Source</a></li>
                    <li><a href="/codingconventions.html">Coding Conventions</a></li>
                    <li><a href="/siteupdate.html">Update the Website</a></li>
                    <li><a href="https://builds.apache.org/view/All/job/PDFBox-trunk/">Jenkins</a></li>
                    <li><a href="https://travis-ci.org/apache/pdfbox">Travis CI</a></li>
                    <li><a href="https://builds.apache.org/analysis/overview?id=org.apache.pdfbox%3Apdfbox-reactor">SonarQube</a></li>
                    <li><a href="https://issues.apache.org/jira/browse/PDFBOX">JIRA</a></li>
                    <li><a href="/ideas.html">Ideas</a></li>
                    <li><a href="/references.html">External Links</a></li>

                    <li class="sidebar-header">Apache Software Foundation</li>
                    <li><a href="https://www.apache.org/">Apache Software Foundation</a></li>
                    <li><a href="https://www.apache.org/foundation/thanks.html">ASF Sponsors</a></li>
                    <li><a href="https://www.apache.org/security/">Security</a></li>
                </ul>
                <iframe src="https://www.apache.org/ads/buttonbar.html"
                    style="border-width:0; float: left" frameborder="0" scrolling="no"
                width="135" height="265"></iframe>
            </div>
            <div class="col-xs-12 col-sm-9">
                <h1 id="frequently-asked-questions">Frequently Asked Questions</h1>

<h3 id="general-questions">General Questions</h3>

<ul>
  <li><a href="#log4j">I am getting the below Log4J warning message, how do I remove it?</a></li>
  <li><a href="#threadsafe">Is PDFBox thread safe?</a></li>
  <li><a href="#notclosed">Why do I get a “Warning: You did not close the PDF Document”?</a></li>
</ul>

<h3 id="text-extraction">Text Extraction</h3>

<ul>
  <li><a href="#notext">How come I am not getting any text from the PDF document?</a></li>
  <li><a href="#gibberish">How come I am getting gibberish(G38G43G36G51G5) when extracting text?</a></li>
  <li><a href="#fontwidth">What does “java.io.IOException: Can’t handle font width” mean?</a></li>
  <li><a href="#permission">Why do I get “You do not have permission to extract text” on some documents?</a></li>
  <li><a href="#partially">Can’t we just extract the text without parsing the whole document or extract text as it is parsed?</a></li>
</ul>

<h2 id="general-questions-1">General Questions</h2>

<p><a name="log4j"></a></p>
<h3 id="i-am-getting-the-below-log4j-warning-message-how-do-i-remove-it">I am getting the below Log4J warning message, how do I remove it?</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>log4j:WARN No appenders could be found for logger (org.apache.pdfbox.util.ResourceLoader).
log4j:WARN Please initialize the log4j system properly.
</code></pre>
</div>

<p>This message means that you need to configure the log4j logging system.
See the <a href="http://logging.apache.org/log4j/1.2/manual.html">log4j documentation</a> for more information.</p>

<p>PDFBox comes with a sample log4j configuration file.  To use it you set a system property like this</p>

<div class="highlighter-rouge"><pre class="highlight"><code>java -Dlog4j.configuration=log4j.xml org.apache.pdfbox.ExtractText &lt;PDF-file&gt; &lt;output-text-file&gt;
</code></pre>
</div>

<p>If this is not working for you then you may have to specify the log4j config file using a URL path, like this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>log4j.configuration=file:///&lt;path to config file&gt;
</code></pre>
</div>

<p><a name="threadsafe"></a></p>
<h3 id="is-pdfbox-thread-safe">Is PDFBox thread safe?</h3>

<p>No! Only one thread may access a single document at a time. You can have multiple threads
each accessing their own PDDocument object.</p>

<p><a name="notclosed"></a></p>
<h3 id="why-do-i-get-a-warning-you-did-not-close-the-pdf-document">Why do I get a “Warning: You did not close the PDF Document”?</h3>

<p>You need to call close() on the PDDocument inside the finally block, if you
don’t then the document will not be closed properly.  Also, you must close all
PDDocument objects that get created.  The following code creates <strong>two</strong>
PDDocument objects; one from the “new PDDocument()” and the second by the load method.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">PDDocument</span> <span class="n">doc</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PDDocument</span><span class="o">();</span>
<span class="k">try</span>
<span class="o">{</span>
   <span class="n">doc</span> <span class="o">=</span> <span class="n">PDDocument</span><span class="o">.</span><span class="na">load</span><span class="o">(</span> <span class="s">"my.pdf"</span> <span class="o">);</span>
<span class="o">}</span>
<span class="k">finally</span>
<span class="o">{</span>
   <span class="k">if</span><span class="o">(</span> <span class="n">doc</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">)</span>
   <span class="o">{</span>
      <span class="n">doc</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
   <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h2 id="text-extraction-1">Text Extraction</h2>

<p><a name="notext"></a></p>
<h3 id="how-come-i-am-not-getting-any-text-from-the-pdf-document">How come I am not getting any text from the PDF document?</h3>

<p>Text extraction from a pdf document is a complicated task and there are many factors
involved that effect the possibility and accuracy of text extraction.  It would be helpful
to the PDFBox team if you could try a couple things.</p>

<ul>
  <li>Open the PDF in Acrobat and try to extract text from there.  If Acrobat can extract text then PDFBox 
should be able to as well and it is a bug if it cannot.  If Acrobat cannot extract text then PDFBox ‘probably’ cannot either.</li>
  <li>It might really be an image instead of text.  Some PDF documents are just images that have been scanned in.
You can tell by using the selection tool in Acrobat, if you can’t select any text then it is probably an image.</li>
</ul>

<p><a name="gibberish"></a></p>
<h3 id="how-come-i-am-getting-gibberishg38g43g36g51g5-when-extracting-text">How come I am getting gibberish(G38G43G36G51G5) when extracting text?</h3>

<p>This is because the characters in a PDF document can use a custom encoding
instead of unicode or ASCII.  When you see gibberish text then it
probably means that a meaningless internal encoding is being used.  The
only way to access the text is to use OCR.  This may be a future
enhancement.</p>

<p><a name="fontwidth"></a></p>
<h3 id="what-does-javaioioexception-cant-handle-font-width-mean">What does “java.io.IOException: Can’t handle font width” mean?</h3>

<p>This probably means that the “Resources” directory is not in your classpath. The
Resources directory is included in the PDFBox jar so this is only a problem if you
are building PDFBox yourself and not using the binary.</p>

<p><a name="permission"></a></p>
<h3 id="why-do-i-get-you-do-not-have-permission-to-extract-text-on-some-documents">Why do I get “You do not have permission to extract text” on some documents?</h3>

<p>PDF documents have certain security permissions that can be applied to them and two 
passwords associated with them, a user password and a master password. If the “cannot extract text”
permission bit is set then you need to decrypt the document with the master password in order
to extract the text.</p>

<p><a name="partially"></a></p>
<h3 id="cant-we-just-extract-the-text-without-parsing-the-whole-document-or-extract-text-as-it-is-parsed">Can’t we just extract the text without parsing the whole document or extract text as it is parsed?</h3>

<p>Not really, for a couple reasons.</p>

<ul>
  <li>If the document is encrypted then you need to parse at least until the encryption dictionary before 
you can decrypt.</li>
  <li>Sometimes the PDFont contains vital information needed for text extraction.</li>
  <li>Text on a page does not have to be drawn in reading order. For example: if the page said “Hello World”,
the pdf could have been written such that “World” gets drawn and then the cursor moves to the left and 
the word “Hello” is drawn.</li>
</ul>

            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="span3">
                    <!-- nothing in here on purpose -->
                </div>
                <div class="span9">
                    <p>Copyright © 2009&ndash;2017 <a href="https://www.apache.org/">The Apache Software Foundation</a>, Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.
                        <br/>Apache PDFBox, PDFBox, Apache, the Apache feather logo and the Apache PDFBox project logos are trademarks of The Apache Software Foundation.</p>
                </div>
            </div>
        </div>
    </footer>

        <!-- Twitter Bootstrap and jQuery after this line. -->
    <script src="//code.jquery.com/jquery-latest.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript">

        $(document).ready(function () {
                $('[data-toggle="offcanvas"]').click(function () {
                $('.row-offcanvas').toggleClass('active')
            });
        });

        $(function() {
            // collapse tree nodes dynamically to support noscript
            $('.sidebar-node').addClass('collapsed');


            // toggle expand/collapse
            $('.sidebar-node > a').click(function(e) {
                $(this).parent().toggleClass('collapsed');
                e.preventDefault();
            });

            // preserve expand/collapse across page navigation
            var path = document.location.pathname;
            if (path.indexOf('/1.8') == 0) {
                $('#v1-8').removeClass('collapsed');
                if (path.indexOf('/1.8/cookbook') == 0) {
                    $('#v1-8-cookbook').removeClass('collapsed');
                }
            } else {
                $('#v2-0').removeClass('collapsed');
                if (path.indexOf('/2.0/cookbook') == 0) {
                    $('#v2-0-cookbook').removeClass('collapsed');
                }
            }

        });
    </script>

</body>

</html>